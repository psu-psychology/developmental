---
title: "dev-prosem-2015-09-16"
author: "Rick Gilmore"
date: "`r Sys.time()`"
output:
  ioslides_presentation:
    css: https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css
    incremental: false
    widescreen: true
    smaller: false
  beamer_presentation: default
  slidy_presentation: default
  pdf_document: default
  md_document: default
  html_document:
    keep_md: true
bibliography: bibliography.bib
---

## Experience matters | Measuring the microstructure of visual experience to better understand perceptual development {.flexbox .vcenter}

<div class="centered">
### **Rick O. Gilmore**

*Support*: NSF BCS-1147440, NSF BCS-1238599, NICHD U01-HD-076595
</div>

## Overview

- Development of Optic Flow Processing
    + What is optic flow?
    + How does optic flow sensitivity develop?
    + How experience shapes the patterns of brain and behavioral development

## What is Optic Flow?

- Structured pattern of visual motion generated by observer movement

## Examples of Optic Flow

<div class="centered">
<iframe width="560" height="315" src="https://www.youtube.com/embed/x76VEPXYaI0" frameborder="0" allowfullscreen></iframe>
</div>

## Examples of Optic Flow {.flexbox .vcenter}

<div class="centered">
<video controls>
  <source src="img/16BabyFoeCor.avi" type="video/mp4">
  Your browser does not support the video tag.
</video>
</div>

## Examples of Optic Flow {.flexbox .vcenter}

<div class="centered">
<video controls>
  <source src="img/16MomFoeCor.avi" type="video/mp4">
  Your browser does not support the video tag.
</video>
</div>

## What is Optic Flow? {.flexbox .vcenter}

<div class="centered">
<img src="http://www.cns.nyu.edu/~david/courses/perception/lecturenotes/motion/motion-slides/motion.009.jpg"/ height="450px">

<http://www.cns.nyu.edu/~david/courses/perception/lecturenotes/motion/motion-slides/motion.009.jpg>
</div>

## Types of Optic Flow

- Radial (expansion/contraction), rotation, linear/laminar/translational, shear

<div class="centered">
<img src="https://rawgit.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/optic-flow-types.png" width="600px">

<https://rawgit.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/optic-flow-types.png>
</div>

## Different Actions, Different Flows {.flexbox .vcenter}

| Action Type                       | Flow Type             |
|-----------------------------------|-----------------------|
| Forward/backward translation      | Expansion/contraction |
| Rotation around visual axis       | Rotation              |
| Horizontal/vertical head rotation | Translation           |
| Horizontal/vertical eye movements | Translation           |

## How Does Optic Flow Sensitivity Develop?

- Sensitivity at birth, [@jouen_optic_2000]
- Infants 
      + Brain responses stronger to **fast, translational flow**, [@hou_spatio-temporal_2009; @gilmore_development_2007]
      + Behavioral responses stronger to **fast translational flow**, [@kiorpes_development_2004]
      + Primate universal pattern? Not adult-like until late adolescence?
- Adults 
      + Brain responses stronger to **radial flow**, [@gilmore_development_2007; @fesi_cortical_2014].
      
## Gaps

- What influences developmental shifts?
    + Why fast speeds and linear flows?

## Infants Spend Lots of Time Being Carried {.flexbox .vcenter}

<div class="centered">
<img src="img/one-childs-day-data.jpg">

[@Mathioudakis_2008]
</div>

## What Types of Flow Occur During Carrying?

- [@raudies_visual_2014; @raudies_understanding_2012]
- [@kretch2014crawling; @kretch2014active]
- <https://databrary.org/volume/123>

## Infant View {.flexbox .vcenter}

<div class="centered">
<video controls>
  <source src="img/16BabyFoeCor.avi" type="video/mp4">
  Your browser does not support the video tag.
</video>
</div>

## Adult View {.flexbox .vcenter}

<div class="centered">
<video controls>
  <source src="img/16MomFoeCor.avi" type="video/mp4">
  Your browser does not support the video tag.
</video>
</div>

## Methods

- Head-mounted eye tracking videos
- n=6 8.5-9.5 mo-old infants carried by mothers
- 30 s video segments walking down the same indoor hallway
- Frame-by-frame analysis of optic flow patterns, speeds.
- [@raudies2013optic]

## Reminiscent of [@held1963movement] {.flexbox .vcenter}

<div class="centered">
<img src="https://blogpsychology.files.wordpress.com/2014/02/kitten-carousel.jpg">

<https://blogpsychology.files.wordpress.com/2014/02/kitten-carousel.jpg>
</div>

## Flow Pattern Data {.flexbox .vcenter}

<div class="centered">
<img src="img/raudies-gilmore-12-pattern-data.jpg">

[@raudies_understanding_2012]
</div>

## Flow Speed Data {.flexbox .vcenter}

<div class="centered">
<img src="img/raudies-gilmore-12-speed-data.jpg">

[@raudies_understanding_2012]
</div>

## Gaze Stability

<div class="centered">
<img src="img/raudies-gilmore-12-foe-cor-data.jpg">

[@raudies_understanding_2012]
</div>

## Gaze Stability

<div class="centered">
<img src="img/raudies-gilmore-12-laminar-flow-freq-data.jpg">

[@raudies_understanding_2012]
</div>

## Looking Where They're Going?

<div class="centered">
<img src="img/raudies-gilmore-12-foe-data.jpg">

[@raudies_understanding_2012]
</div>

## What is the Motion 'Prior'?

- [@grzywacz1991theories,@weiss2002motion]
- Visual system 'assumes' motion distributions are slow
- Resolves ambiguities in direction under occlusion
- Based on lab-based psychophysical results

## What is the Empirical Motion 'Prior'?

<div class="centered">
<img src="img/raudies-gilmore-14-head-retina-speed-data.jpg">

[@raudies_visual_2014]
</div>

## What is the Empirical Motion 'prior'?

<div class="centered">
<img src="img/raudies-gilmore-14-2d-speed-data.jpg">

[@raudies_visual_2014]
</div>

## Summary

- Infants' visual experiences ≠ mothers'
- Faster speeds, more vertical motion
- Laminar/translational motion common
- Empirical speed prior not slow

## Concerns

- How general?
- Geometry of environment?
- Carrying vs. independent locomotion?
- Cultural differences in home environment, relatives, carrying practices?
- Changes across developmental milestones?

## Methods

- Simulation
    + How does "maturation" change optic flow?
    + Does environmental geometry change optic flow?
- Measure natural scene statistics of optic flow
    + Videos from head-mounted cameras
    + Infants from India, Indiana
    
## Simulating Optic Flow {.smaller}

<div class="centered">
$\begin{pmatrix}\dot{x} \\ \dot{y}\end{pmatrix}=\frac{1}{z}
\begin{pmatrix}-f & 0 & x\\ 0 & -f  & y \end{pmatrix}
\begin{pmatrix}{v_x{}}\\ {v_y{}} \\{v_z{}}\end{pmatrix}+
\frac{1}{f}
\begin{pmatrix}
xy & -(f^2+x^2) & fy\\ 
f^2+y^2 & -xy & -fy
\end{pmatrix}
\begin{pmatrix}
\omega_{x}\\ 
\omega_{y}\\ 
\omega_{z}
\end{pmatrix}$
</div>

## Parameters For Simulation

| Parameter | Crawling Infant | Walking Infant |
|-----------|-----------------|----------------|
| Eye height| 0.30 m          | 0.60 m         |
| Locomotor speed | 0.33 m/s  | 0.61 m/s       |
| Head tilt | 20 deg          | 9 deg          |

<div class="centered">

<img src="https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/kretch-etal.png" width=800px>

[@kretch2014crawling],<http://dx.doi.org/10.1111/cdev.12206>
</div>

## Parameters for Simulation

| Geometric Feature        | Distance |
|--------------------------|----------|
| Side wall                | +/- 2 m  |
| Side wall height         | 2.5 m    |
| Distance of ground plane | 32 m     |
| Field of view width      | 60 deg   |
| Field of view height     | 45 deg   |

## Simulating Flow Fields {.flexbox .vcenter}

<div class="centered">
<img src='https://rawgit.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/simulation-flow-patterns.png' width=800px/>

<https://rawgit.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/simulation-flow-direction-hist.png>
</div>

## Flow Direction Distributions by Geometry & Posture

<div class="centered">
<img src='https://raw.githubusercontent.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/simulation-flow-direction-hist.png' width=600px/>

<https://rawgit.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/simulation-flow-direction-hist.png>
</div>

## Flow Speeds By Geometry and Posture {.flexbox .vcenter}

```{r configuration, echo=FALSE, error=FALSE, include=FALSE, warning=FALSE, message=FALSE}

# Source libraries
library(ggplot2)
library(dplyr)
library(nlme)
library(knitr)
library(tidyr)

# knitr options, suppress everything by default.
opts_chunk$set(comment=NA, fig.width=8, fig.height=4.5, echo=FALSE, error=FALSE, warning=FALSE, message=FALSE, include=FALSE)

# Directories
dir_data <- '/Users/rick/github/gilmore-lab/ICDL-EpiRob-2015/data'
dir_figs <- '/Users/rick/github/gilmore-lab/ICDL-EpiRob-2015/figs'

# File names
fn_sim_spd_hist <- 'simulation-speed-hist.csv'
fn_seg_duration <- 'coded-segments.csv'
fn_spd_hist_bins <- 'speed-histogram-bins.csv'
fn_spd_hist_fits <- 'speed-histogram-fits.csv'
fn_patt <- 'pattern-histogram-bins.csv'
```

```{r crawl-vs-walk-simulated-speeds}
# Load speed histogram data from simulation
df.in <- read.csv( paste(dir_data, fn_sim_spd_hist, sep="/"), header=FALSE )

geom.names <- unlist( df.in[,1] )
locomotion.names <- unlist( df.in[,2] )
vals <- t( df.in[,3:23] )

bins <- seq(0,45, length.out=21)

df.th <- data.frame( Bin.Ctr = bins,
                     Geometry = rep( geom.names, each=21 ),
                     Locomotion = rep( locomotion.names, each=21 ),
                     Bin.Ct = as.vector( unlist( vals ) ) 
)

# Summarize counts by locomotion status
df.th.crawl <- df.th %>%
  filter( Locomotion == "crawling" ) %>%
  group_by( Geometry, Bin.Ctr ) %>%
  summarize( crawling.ct = sum( Bin.Ct) )

df.th.walk <- df.th %>%
  filter( Locomotion == "walking") %>%
  group_by( Geometry, Bin.Ctr ) %>%
  summarize( walking.ct = sum( Bin.Ct ))

# Merge data frames for analysis
df.th.loco <- merge( df.th.crawl, df.th.walk, 
                     by.x=c("Geometry", "Bin.Ctr"), 
                     by.y=c("Geometry", "Bin.Ctr")
) %>% mutate( tot.ct = crawling.ct + walking.ct ) %>%
  group_by( Geometry ) %>%
  mutate( tot.geom.ct = sum( tot.ct ) ) 

p.thresh = .05
df.th.loco.stats <- df.th.loco %>%
  filter(tot.ct >= 5) %>%
  mutate( num = (walking.ct/tot.geom.ct - crawling.ct/tot.geom.ct)^2,
          denom = walking.ct/(tot.geom.ct^2) + crawling.ct/(tot.geom.ct)^2,
          chisq = num/denom ) %>%
  group_by(Geometry) %>%
  summarize( chisq.loco = sum( chisq ) ) %>%
  mutate( p.chisq = 1-pchisq( chisq.loco, 21) ) %>%
  filter( p.chisq < p.thresh )
```

<div class="centered">
```{r simulation-histogram-plot, include=TRUE}
# Plot
p <- ggplot( data=df.th, aes(x=Bin.Ctr, y=Bin.Ct, fill=Locomotion)) +
  geom_bar(position="dodge", stat="identity") +
  facet_grid(. ~ Geometry)+
  xlab("Speed (deg/s)") +
  ylab("Number of observations") +
  theme( strip.text=element_text(size=20), 
         axis.title=element_text(size=20),
         axis.text =element_text(size=18),
         legend.title=element_text(size=20),
         legend.text = element_text(size=20), 
         legend.position="bottom"
         )
p
```

$\chi^2(20)$: `r df.th.loco.stats[1,1]`: `r df.th.loco.stats[1,2]`, `r df.th.loco.stats[2,1]`: `r df.th.loco.stats[2,2]`, `r df.th.loco.stats[3,1]`: `r df.th.loco.stats[3,2]`, and `r df.th.loco.stats[4,1]`: `r df.th.loco.stats[4,2]`.
</div>

## Mean Simulated Flow Speeds By Posture and Geometry

| Type of Locomotion | Ground Plane | Room | Side Wall | Two Walls |
|--------------------|--------------|------|-----------|-----------|
| Crawling           | 14.41        | 14.42| 14.43     |14.62      |
| Walking            | 9.38         | 8.56 | 7.39      |9.18       |

## Empirical Measurements of Optic Flow

- First-person videos from head-mounted cameras
- 20 infants, 41 days to 13.2 mos
- Chennai, India & Bloomington, Indiana
- Data: <http://databrary.org/volume/81>

## 6 weeks

<div class="centered">
<video controls height=500px>
  <source src="https://nyu.databrary.org/slot/7574/160611,1275306/asset/15844/download?inline=true" type="video/mp4">
  Your browser does not support the video tag.
</video>
</div>

## 36 weeks

<div class="centered">
<video controls height=500px>
  <source src="https://nyu.databrary.org/slot/7583/1374411,3123403/asset/16062/download?inline=true" type="video/mp4">
  Your browser does not support the video tag.
</video>
</div>

## Cultural Differences in Segment Durations {.flexbox .vcenter}

```{r segment-durations}
# read data file
df.segments <- read.csv(paste(dir_data, fn_seg_duration, sep="/"))

# Restrict consideration to segments < 3 min
df.segments.3m <- df.segments %>% 
  mutate(Minutes=Segment.ms/(1000*60)) %>%
  filter(Motion.Static != 'Unclassified') %>%
  filter(Minutes <= 3)

# Adjust country order
countries <- relevel(df.segments.3m$Country, "U.S.")
df.segments.3m$Country <- countries

# Calculate summary stats to annotate plot
df.summary <- df.segments.3m %>%
  group_by(Country, Motion.Static) %>%
  summarize(Minutes.med = median(Minutes),
            Minutes.mean = mean(Minutes))

df.summary$Minutes = c(1,1,1,1)

# Convert minutes to seconds for readability
df.summary$Label.med = paste0("median = ", round(df.summary$Minutes.med*60, 1), " s")
df.summary$Label.mean = paste0("mean = ", round(df.summary$Minutes.mean*60, 1), " s")
```

<div class="centered">
```{r segment-duration-plot, include=TRUE}
# Plot
p <- ggplot(df.segments.3m, aes(x=Minutes)) +
  facet_grid(Motion.Static ~ Country) + 
  geom_histogram() +
  ylab('Number of Segments') +
  xlab('Segment Duration (min)') +
  theme_bw() +
  geom_text(data=df.summary, aes(x=rep(1.5,4), y=rep(400,4), label=Label.med), size=7) +
  geom_text(data=df.summary, aes(x=rep(1.5,4), y=rep(300,4), label=Label.mean), size=7) +
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
  theme(strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20))
p
```
</div>

<!--
## Individual Differences in Segment Durations {.flexbox .vcenter}

```{r segment-durations-individual-diffs, include=TRUE}
p <- ggplot(data=df.segments.3m, aes(x=Minutes, color=Participant.ID)) +
  facet_grid(Motion.Static ~ Country) +
  geom_density() +
  ylab('Density') +
  xlab('Segment Duration (min)') +
  guides(color=FALSE) +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20)
  )
p
```
-->

## Segment Durations {.flexbox .vcenter}

<div class="centered">
```{r anova-segment-duration-plot}
# Restrict analysis to Moving and Stationary conditions
keep <- c("Moving", "Stationary")
df.motion.static <- subset(df.segments, Motion.Static %in% keep)
df.motion.static$Motion.Static <- factor(df.motion.static$Motion.Static)

# Restrict to segments < 1.5 min to reduce effects of outliers
df.trim.1.5min <- df.motion.static %>%
  filter(Segment.ms <= 1.5*60*1000)

# Create summary data frame
df.trim.1.5min.summ <- df.trim.1.5min %>%
  group_by(AgeMatchGroup, Country, Participant.ID, Motion.Static) %>%
  summarize(Segment.ms.med = median(Segment.ms),
             Segment.ms.sem  = sd(Segment.ms)/sqrt(n()),
             Segment.ms.mean = mean(Segment.ms)) %>%
  mutate(Segment.sec.mean=Segment.ms.mean/1000, Segment.sec.sem=Segment.ms.sem/1000)

c <- relevel( df.trim.1.5min.summ$Country, "U.S.") # make U.S. first for consistency
df.trim.1.5min.summ$Country <- c
```

```{r segment-duration-by-status-country, include=TRUE}
# Plot
ylims <- aes(ymax=Segment.sec.mean+Segment.sec.sem, ymin=Segment.sec.mean-Segment.sec.sem)
p <- ggplot( data=df.trim.1.5min.summ, aes(x=AgeMatchGroup, y=Segment.sec.mean, color=Motion.Static)) +
  facet_grid(. ~ Country) +
  geom_point() +
  geom_pointrange(ylims) +
  geom_smooth( method=lm ) +
  scale_color_discrete( name="Motion Status") +
  xlab("Age Group (wks)") +
  ylab("Segment Duration (s)") +
  theme(strip.text=element_text(size=20), 
        axis.title=element_text(size=20),
        axis.text=element_text(size=16),
        legend.text=element_text(size=18),
        legend.title = element_text(size=18),
        legend.position ="bottom")
p
```
</div>

## Normalized Durations as $p$(total-time) {.flexbox .vcenter}

<div class="centered">
```{r compute-normalized-durations}
# Start with untrimmed.
# Fix leveling order...again
c <- relevel( df.motion.static$Country, "U.S.") # make U.S. first for consistency
df.motion.static$Country <- c

# Sum total duration by participant and motion condition
df.motion.static.summ.by.motion <- df.motion.static %>%
  group_by(Country, AgeMatchGroup, Participant.ID, Motion.Static) %>%
  summarize(Segment.ms.tot = sum(Segment.ms))

df.motion.static.summ.grand <- df.motion.static.summ.by.motion %>%
  group_by(Country, AgeMatchGroup, Participant.ID) %>%
  summarize(Segment.ms.tot.grand = sum(Segment.ms.tot))

df.motion.static.summ <- merge( df.motion.static.summ.grand, df.motion.static.summ.by.motion)

df.motion.static.summ <- df.motion.static.summ %>%
  group_by( Country, AgeMatchGroup, Participant.ID, Motion.Static) %>%
  summarize(Segment.ms.p = Segment.ms.tot/Segment.ms.tot.grand)
```

<div class="centered">
```{r normalized-duration-plot, include=TRUE, fig.width=8, fig.height=4}
# Now plot
p <- ggplot(data=df.motion.static.summ, aes(x=AgeMatchGroup, y=Segment.ms.p, color= Motion.Static)) +
  facet_grid( . ~ Country ) +
  geom_point() + 
  geom_smooth( method=lm ) +
  xlab("Age Group (wks)") +
  ylab("Proportion of Time") +
  theme(strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20),
        legend.text = element_text(size=18),
        legend.title = element_text(size=18)) +
  theme(legend.position="bottom") + 
  scale_color_discrete(name="Motion Status")
p
```

```{r normalized-speed-stats}
lme.p.segment <- lme(fixed = Segment.ms.p ~ Country*AgeMatchGroup, data = df.motion.static.summ[df.motion.static.summ$Motion.Static=='Stationary',], random = ~ 1 | Participant.ID)
ul = unlist(anova(lme.p.segment))
```

</div>

## Natural Scene Statistics for Optic Flow

- Selected 10 5 s segments/participant, both moving and stationary
- Estimated frame by frame flow fields
- Details in [Raudies & Gilmore 2014](http://www.mitpressjournals.org/doi/abs/10.1162/NECO_a_00645#.Va6g-hNViko)

## Speed Distributions {.flexbox .vcenter}

<div class="centered">
```{r speed-distributions, include=TRUE}
# Load data
df_speed_hist <- read.csv(paste(dir_data, fn_spd_hist_bins, sep="/"))

df_speed_hist$Country <- relevel( df_speed_hist$Country, "U.S.")

# U.S Histogram
p <- df_speed_hist %>% 
  ggplot(aes(x=Speed, y=N.obs)) +
  facet_grid(Motion.status ~ Country) +
  geom_bar(stat="identity") +
  ylab('N observations') +
  xlab('Speed (deg/s)') +
  theme(panel.grid.major = element_blank(), 
        panel.grid.minor = element_blank(),
        strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20)
  )
p
```
</div>

## Comparing Shapes of (Trimmed) Speed Distributions

- Fit $\gamma$ distribution to trimmed (0,100) speed histograms

<div class="centered">
$f(x;k,\theta) =  \alpha\frac{x^{k-1}e^{-\frac{x}{\theta}}}{\theta^k\Gamma(k)}$

$\alpha$, amplitude; $\kappa$, shape; and $\theta$, scale parameters.
</div>

## Illustrative Speed Histograms -- 6 weeks {.flexbox .vcenter}

<div class="columns-2">
<img src='https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/006AP.png' width="400px"> 
<img src='https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/006MO.png' width="400px">
</div>

## Illustrative Speed Histograms -- 34 weeks {.flexbox .vcenter}

<div class="columns-2">
<img src='https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/034JC.png' width=400px> 
<img src='https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/034NW.png' width=400px>
</div>

## Illustrative Speed Histograms -- 58 weeks {.flexbox .vcenter}

<div class="columns-2">
<img src='https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/057AP.png' width=400px/> 
<img src='https://rawgit.com/psu-psychology/cognitive/master/brown-bag/2015-09-09-gilmore/img/058LA.png' width=400px/></div>

## Fitted $\kappa$ Parameters {.flexbox .vcenter}

<div class="centered">
```{r speed-fitted-parameters}
# Load data
df_spd_fits <- read.csv(paste(dir_data, fn_spd_hist_fits, sep="/"))

# Re-label to fix country order
countries <- relevel(df_spd_fits$Country, "U.S.")
df_spd_fits$Country <- countries

# Fix Motion.Static level labels
levels(df_spd_fits$Motion.status) <- c("Moving", "Stationary")
```

```{r kappa-plot, include=TRUE}
# Plot $\kappa$ parameter
p.k <- df_spd_fits %>%
  gather(Parameter.name, Fitted.value, a, k, theta ) %>%
  filter(Parameter.name=='k') %>%
  ggplot(aes(x=Motion.status, y=Fitted.value, color=Motion.status)) +
  facet_grid(. ~ Country) +
  geom_boxplot() +
  geom_point() +
  xlab("") + 
  ylab("Parameter Estimate") +
  theme(strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20),
        legend.position="none")
p.k
```
</div>

```{r kappa-by-age, include=FALSE}
p.k <- df_spd_fits %>%
  gather(Parameter.name, Fitted.value, a, k, theta ) %>%
  filter(Parameter.name=='k') %>%
  ggplot(aes(x=AgeMatchGroup, y=Fitted.value, color=Motion.status)) +
  facet_grid(. ~ Country) +
  geom_point() +
  geom_smooth(method=lm) +
  xlab("Age Group (mos)") +
  ylab("Parameter Estimate") +
  theme(strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20),
        legend.position="none")
p.k
```

```{r include=FALSE}
# Linear mixed effects model
lme.k <- lme(fixed = k ~ Motion.status*AgeMatchGroup*Country, random = ~ 1 | Participant.ID, data = df_spd_fits)
anova(lme.k)
```

## Fitted $\alpha$ Parameters {.flexbox .vcenter}

<div class="centered">

```{r alpha-plot, include=TRUE}
# Plot alpha parameter
p.a <- df_spd_fits %>%
  gather(Parameter.name, Fitted.value, a, k, theta ) %>%
  filter(Parameter.name=='a') %>%
  ggplot(aes(x=Motion.status, y=Fitted.value, color=Motion.status)) +
  facet_grid(. ~ Country) +
  geom_boxplot() +
  geom_point() +
  xlab("") + 
  ylab("Parameter Estimate") +
  theme(strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20),
        legend.position="none")
p.a
```

</div>

```{r lme-alpha, include=FALSE}
# Linear mixed effects model
lme.alpha <- lme(fixed = a ~ Motion.status*AgeMatchGroup*Country, random = ~ 1 | Participant.ID, data = df_spd_fits)
anova(lme.alpha)
```

## Fitted $\theta$ Parameters {.flexbox .vcenter}

<div class="centered">

```{r theta-plot, include=TRUE}
# Plot theta parameter
p.theta <- df_spd_fits %>%
  gather(Parameter.name, Fitted.value, a, k, theta ) %>%
  filter(Parameter.name=='theta') %>%
  ggplot(aes(x=Motion.status, y=Fitted.value, color=Motion.status)) +
  facet_grid(. ~ Country) +
  geom_boxplot() +
  geom_point() +
  xlab("") + 
  ylab("Parameter Estimate") +
  theme(strip.text = element_text(size=20), 
        axis.title = element_text(size=20),
        axis.text = element_text(size=20),
        legend.position="none")
p.theta
```

</div>

```{r lme-theta, include=FALSE}
# Linear mixed effects model
lme.theta <- lme(fixed = theta ~ Motion.status*AgeMatchGroup*Country, random = ~ 1 | Participant.ID, data = df_spd_fits)
anova(lme.theta)
```

## Summary: Empirical Flow Speed Effects

- Fast speeds (> 100 deg/s) common
- Moving ≠ Stationary
- Broad distribution: $\kappa$, $\alpha$(moving) > $\kappa$, $\alpha$(stationary)
- U.S. ~ India

## Empirical Pattern Distributions
- Correlation with 'canonical' flow patterns
  - radial
  - rotational
  - translational
  
## Pattern Correlation Results

<div class="centered">
<img src='https://rawgit.com/gilmore-lab/ICDL-EpiRob-2015/master/figs/pattern-correlations.jpg' width=800px/>
</div>

## Pattern Correlation Results by Country {.flexbox .vcenter}

```{r pattern-histogram, include = FALSE}
df_patt <- read.csv(paste(dir_data, fn_patt, sep="/"))
levels(df_patt$Pattern) <- list(Rotation="cw", Radial="exp", Laminar=c("left", "up"))
```

<div class="centered">
```{r plot-hist, include = TRUE}
hist_patt_theme <- theme(strip.text = element_text(size=16),
                         axis.title = element_text(size=18),
                         axis.text = element_text(size=16),
                         legend.position = "bottom",
                         legend.title = element_blank(),
                         legend.text = element_text(size = 18)
                         )

p_patt_hist <- df_patt %>%
  arrange(Motion.status) %>%
  ggplot(aes(x=Corr.Bin.Ctr, y=Corr.Bin.Count, fill=Motion.status)) +
  geom_bar(stat="identity") +
  facet_grid(Pattern ~ Country) +
  xlab("Correlation") +
  ylab("N obs") +  hist_patt_theme
p_patt_hist
```

Moving Laminar ≠ Stationary Laminar in 13/22 infants.

</div>

## Conclusions: Simulation

- Posture influences optic flow speeds & patterns
    + Crawling: faster speeds, more translational flow
    + Proximity to ground and pitch of head
    + Geometry matters relatively little
    
## Conclusions: Empirical Data

- Time stationary >> time in motion
- Time stationary declines with age (India)
- Fast speeds, broad speed distributions
- Individual differences in moving vs. stationary speed distributions
- Laminar flow >> radial or rotational flow, especially when stationary
- **Replicates and extends Raudies & Gilmore '12, '14**

## Summmary of Findings

- Infants commonly experience fast, laminar flows.
- Statistics of visual input may shape developmental transition from fast laminar to slow radial flow.
- Measuring the microstructure of experience hard, but informative.
    + Broadly supported by [EEG data with children](gilmore-thomas-fesi-2015.html)

## Thank you

## Stack

- RStudio, <https://www.rstudio.com/>
    - R Markdown, <http://rmarkdown.rstudio.com/>
- GitHub, <http://github.com/gilmore-lab/>, <http://github.com/psu-psychology/developmental>
- Databrary, <https://databrary.org/volume/81>
    - Access to identifiable data (e.g. videos) restricted
    - Access agreement + institutional authorization
- Datayvu, <http://datavyu.org>
- Matlab

## References {.smaller}
